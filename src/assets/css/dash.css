:root {
    --bg-main: #f5f7fb;
    --bg-card: #fff;
    --bg-header: #fff;
    --bg-table-header: #f9fafb;
    --bg-table-row-hover: #f9f9f9;
    --bg-modal: #fff;
    --bg-input: #fff;
    --bg-input-readonly: #f3f4f6;
    --bg-conflict-item: #fffbe6;
    --bg-button-cancel: #f1f5f9;
    --bg-button-cancel-hover: #e2e8f0;
    --bg-button-secondary: #fff;
    --bg-button-secondary-hover: #f8fafc;
    --bg-service-tag-checked: #FFF7ED;

    --text-primary: #333;
    --text-secondary: #64748b;
    --text-title: #2d3748;
    --text-label: #718096;
    --text-stat-value: #000;
    --text-table-header: #6b7280;
    --text-form-label: #4a5568;

    --border-color-light: #e2e8f0;
    --border-color-medium: #d1d5db;
    --border-color-dark: #cbd5e1;
    --border-color-conflict: #f59e0b;
    --border-color-service-tag: #e2e8f0;
    --border-color-service-tag-checked: #E9590F;

    --shadow-color-light: rgba(0,0,0,.05);
    --shadow-color-medium: rgba(0,0,0,.08);
    --shadow-color-dark: rgba(0,0,0,.1);

    --status-indicator-inactive: #9ca3af;

    /* FullCalendar Specific */
    --fc-today-bg-color: #fff7ed;
    --fc-day-number-color: #374151;
    --fc-col-header-cell-cushion-color: #6b7280;
    --fc-holiday-bg: #94debf;
    --fc-holiday-border: #b2dfdb;
    --fc-holiday-text: #004d40;
}

body.dark-mode {
    --bg-main: #121212;
    --bg-card: #1e1e1e;
    --bg-header: #1e1e1e;
    --bg-table-header: #2a2a2a;
    --bg-table-row-hover: #252525;
    --bg-modal: #2c2c2c;
    --bg-input: #2a2a2a;
    --bg-input-readonly: #3a3a3a;
    --bg-conflict-item: #3a321a;
    --bg-button-cancel: #3a3a3a;
    --bg-button-cancel-hover: #4a4a4a;
    --bg-button-secondary: #3a3a3a;
    --bg-button-secondary-hover: #4a4a4a;
    --bg-service-tag-checked: rgba(233, 89, 15, 0.2);


    --text-primary: #e0e0e0;
    --text-secondary: #a0a0a0;
    --text-title: #ffffff;
    --text-label: #888;
    --text-stat-value: #fff;
    --text-table-header: #aaa;
    --text-form-label: #bbb;

    --border-color-light: #333;
    --border-color-medium: #444;
    --border-color-dark: #555;
    --border-color-conflict: #f59e0b;
    --border-color-service-tag: #444;
    --border-color-service-tag-checked: #E9590F;
    
    --shadow-color-light: rgba(255,255,255,.05);
    --shadow-color-medium: rgba(255,255,255,.08);
    --shadow-color-dark: rgba(255,255,255,.1);

    --status-indicator-inactive: #6b7280;

    /* FullCalendar Specific */
    --fc-today-bg-color: rgba(233, 89, 15, 0.15);
    --fc-day-number-color: #ccc;
    --fc-col-header-cell-cushion-color: #aaa;
    --fc-holiday-bg: #1f513f;
    --fc-holiday-border: #2a6f56;
    --fc-holiday-text: #c8f5e7;
}

:root {
    --sidebar-bg: linear-gradient(to bottom,#f56b27,#e9590f);
}
body.dark-mode {
    --sidebar-bg: linear-gradient(to bottom,#2c2c2c,#1a1a1a);
}


.logo,.sidebar,body{display:flex}*{margin:0;padding:0;box-sizing:border-box}
body,html{height:100%;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background-color:var(--bg-main);color:var(--text-primary); transition: background-color 0.3s, color 0.3s;}
#calendar,#calendarEventNotes{box-sizing:border-box}.category-pill,.meta-value,.nav-text{white-space:nowrap}
#confirmModal,#logoutModal,#successModal, #eventModal, #eventDetails, #confirmDeleteEventModal, #confirmDeleteProductModal, #confirmDeleteStaffModal, #confirmDeleteAnalyticsModal, #rescheduleModal, #followUpModal, #walkInModal, #updateStockModal {background:rgba(0,0,0,.5)}
.sidebar{width:250px;background:var(--sidebar-bg);color:#fff;flex-direction:column;transition:width .3s, background .3s;box-shadow:0 0 15px rgba(0,0,0,.1);position:relative;z-index:10}.sidebar.collapsed{width:70px}.logo{align-items:center;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:20px}.nav-item,.toggle-btn{align-items:center;cursor:pointer;color:#fff;display:flex}.dashboard-grid,.header{margin-bottom:30px}.logo-icon{font-size:24px;margin-right:10px;min-width:30px}.logo-text{font-weight:600;font-size:20px;transition:opacity .3s}.sidebar.collapsed .logo-text,.sidebar.collapsed .nav-text{opacity:0;pointer-events:none}.toggle-btn{position:absolute;top:25px;right:15px;background:rgba(255,255,255,.1);border:none;border-radius:50%;width:30px;height:30px;justify-content:center;transition:background .2s}.toggle-btn:hover{background:rgba(255,255,255,.2)}.sidebar.collapsed .toggle-btn i{transform:rotate(180deg)}.nav-items{flex:1;display:flex;flex-direction:column;gap:5px;padding:0 10px}.nav-item{padding:12px 15px;border-radius:8px;transition:background .3s;text-decoration:none}.nav-item.active{background:rgba(255,255,255,.3);font-weight:600}.nav-item:not(.active):hover{background:rgba(255,255,255,.15)}.nav-icon{margin-right:12px;width:24px;text-align:center}.nav-item.logout{ margin-bottom: 10px; margin-top:auto;background:rgba(255,255,255,.08)}.main-content{flex:1;padding:30px;overflow-y:auto;transition:margin-left .3s}
.card{background:var(--bg-card);border-radius:12px;padding:20px;box-shadow:0 4px 15px var(--shadow-color-light)}.card:hover{box-shadow:0 6px 18px var(--shadow-color-medium)}
.header{display:flex;justify-content:space-between;align-items:center;background:var(--bg-header);padding:15px 20px;border-radius:12px;box-shadow:0 2px 8px var(--shadow-color-light)}
.page-title{font-size:24px;font-weight:600;color:var(--text-title)}.user-info{position:relative;display:flex;align-items:center;gap:15px;cursor:pointer}.user-avatar{color:#fff;font-weight:700;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#e9590f;transition:.3s}.user-menu{display:none;position:absolute;top:50px;right:0;background:var(--bg-card);border-radius:10px;box-shadow:0 4px 12px var(--shadow-color-dark);min-width:150px;z-index:1000;padding:5px 0;list-style:none}.user-menu li{padding:10px 15px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px}.user-menu li:hover{background:var(--bg-table-row-hover)}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.stat-card{display:flex;align-items:center}.stat-icon{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-right:15px;font-size:20px}.stat-value{font-size:24px;font-weight:600; color: var(--text-stat-value)}.stat-label{color:var(--text-label);font-size:14px}
.content-section{display:none}.content-section.active{display:block;animation:fadeIn .5s ease-in-out}.modal{position:fixed;top:0;left:0;width:100%;height:100%;display:none;justify-content:center;align-items:center;z-index:9999;background:rgba(0,0,0,.6)}
.modal .modal-content{background:var(--bg-modal);margin:auto;padding:20px;border-radius:10px;width:90%;max-width:400px;animation:.3s fadeIn}
.modal-buttons{display:flex;gap:15px;justify-content:flex-end}.modal-btn{padding:10px 20px;font-weight:500;transition:.2s;border-radius:6px;cursor:pointer;border:none}
.modal-btn.cancel{background:var(--bg-button-cancel);border:1px solid var(--border-color-dark); color: var(--text-primary);}.modal-btn.cancel:hover{background:var(--bg-button-cancel-hover)}
.modal-btn.logout{background:#ff4757;color:#fff;border:none}.modal-btn.logout:hover{background:#ff3742}
.modal-confirm{width:90%;max-width:420px;padding:30px;text-align:center;border-radius:16px;box-shadow:0 10px 25px var(--shadow-color-dark)}.modal-icon-wrapper{margin:0 auto 20px;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:32px}.modal-icon-wrapper.danger{background-color:#fee2e2;color:#ef4444}.modal-icon-wrapper.warning{background-color:#fef3c7;color:#f59e0b}
.modal-confirm .modal-title{font-size:22px;color:var(--text-title)}.modal-confirm .modal-text{font-size:15px;line-height:1.6;color:var(--text-secondary);margin-bottom:25px}
.modal-confirm .modal-buttons{gap:10px;justify-content:center}.modal-confirm .modal-btn{padding:12px 24px;font-size:15px;font-weight:600;min-width:120px}
.modal-confirm .modal-btn.cancel{background-color:var(--bg-button-cancel);color:var(--text-primary)}.modal-confirm .modal-btn.cancel:hover{background-color:var(--bg-button-cancel-hover)}
.modal-btn.confirm-danger{background-color:#ef4444;color:#fff}.modal-btn.confirm-danger:hover{background-color:#dc2626}
#product .container{max-height:calc(100vh - 120px);overflow-y:auto;padding-right:10px}.container{max-width:1280px;margin:0 auto;padding:20px}
.team-management-container{margin-top:20px;padding:20px;background:var(--bg-card);border-radius:12px;box-shadow:rgba(17,17,26,.1) 0 4px 16px,rgba(17,17,26,.05) 0 8px 32px}
.staff-container {width:100%;margin:20px auto 0;background-color:var(--bg-card);border-radius:12px;padding:32px;box-shadow:0 4px 15px var(--shadow-color-light)}
.staff-container form {display:flex;flex-direction:column;gap:20px;}
.staff-container .form-row {display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:20px;}
.staff-container .input-group {display:flex;flex-direction:column;position:relative;}
.staff-container label {font-weight:500;margin-bottom:6px;display:block;color:var(--text-form-label);font-size:14px;}
.staff-container input, .staff-container select {padding:10px 14px;border:1px solid var(--border-color-medium);border-radius:8px;font-size:15px;width:100%;transition:border-color .2s, box-shadow .2s; background-color: var(--bg-input); color: var(--text-primary);}
.staff-container input:focus, .staff-container select:focus {outline:none;border-color:#e9590f;box-shadow:0 0 0 3px rgba(233,89,15,.1);}
.staff-container .error-message {color:#ef4444;font-size:13px;margin-top:5px;display:none;}
.staff-container .input-group.error .error-message {display:block;}
.staff-container .input-group.error input, .staff-container .input-group.error select {border-color:#ef4444;}
.staff-container .input-group.error input:focus, .staff-container .input-group.error select:focus {box-shadow:0 0 0 3px rgba(239, 68, 68, 0.1);}
.staff-container .password-container {position:relative;display:flex;align-items:center;}
.staff-container .toggle-password {position:absolute;right:14px;cursor:pointer;color:#9ca3af;}
.staff-container .btn-container {display:flex;gap:12px;margin-top:16px;justify-content:flex-end;}
.password-strength {margin-top:8px;display:none;}
.strength-meter {height:6px;background-color:var(--border-color-medium);border-radius:3px;overflow:hidden;}
.strength-meter-bar {height:100%;transition:width 0.3s, background-color 0.3s;width:0%;}
.strength-text {font-size:13px;color:var(--text-secondary);margin-top:4px;text-align:right;}
.staff-name-cell {display:flex;align-items:center;gap:10px;}
.staff-status-cell {display: flex; align-items: center; gap: 8px;}
.status-indicator {height:10px;width:10px;border-radius:50%;transition:background-color 0.3s ease; flex-shrink: 0;}
.status-indicator.online {background-color:#10b981;}
.status-indicator.offline {background-color:var(--status-indicator-inactive);}
.status-text {font-weight:500;color: var(--text-secondary);}
#successModal .modal-content{animation:.4s slideUp}.section-title{font-size:18px;font-weight:600;margin-bottom:15px;color:var(--text-title)}.action-btn{display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;font-size:14px;font-weight:500;transition:.2s ease-in-out;border:none;border-radius:6px;cursor:pointer}.action-btn i{margin-right:6px}.table-wrapper{overflow-x:auto}
table{width:100%;border-collapse:collapse;min-width:600px}
thead{background-color:var(--bg-table-header)}
td,th{padding:12px 15px;text-align:left;border-bottom:1px solid var(--border-color-light)}
th{font-weight:600;color:var(--text-table-header)}
tbody tr:hover{background-color:var(--bg-table-row-hover)}
header{display:flex;justify-content:space-between;align-items:center;padding-bottom:20px;border-bottom:1px solid var(--border-color-light)}header .logo h1{font-weight:700;font-size:24px;color:var(--text-title)}.actions{display:flex;gap:12px}.btn{padding:10px 16px;border-radius:8px;font-weight:500;cursor:pointer;transition:background-color .2s,box-shadow .2s;border:none;display:inline-flex;align-items:center;gap:8px}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:#3b82f6;color:#fff}.btn-primary:hover:not(:disabled){background:#2563eb}
.btn-secondary{background:var(--bg-button-secondary);color:var(--text-secondary);border:1px solid var(--border-color-dark)}.btn-secondary:hover:not(:disabled){background:var(--bg-button-secondary-hover)}
.btn-danger{background:#ef4444;color:#fff}.btn-danger:hover:not(:disabled){background:#dc2626}.btn-edit{background:#10b981;color:#fff}.btn-edit:hover:not(:disabled){background:#059669}
.btn .loader {width:16px;height:16px;border:2px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:spin 1s linear infinite;margin-right:8px;vertical-align:middle;}
.search-bar {display:flex;margin:24px 0;border:1px solid var(--border-color-dark);border-radius:8px;transition:border-color .2s, box-shadow .2s;overflow:hidden;}
.search-bar:focus-within {border-color:#e9590f;box-shadow:0 0 0 2px rgba(233, 89, 15, 0.2);}
.search-bar input {flex:1;padding:12px 16px;border:none;font-size:16px;outline:none; background: transparent; color: var(--text-primary)}
.search-bar button {padding:0 20px;background:#e9590f;color:#fff;border:none;cursor:pointer;}
.filters{display:flex;gap:10px;margin-bottom:24px;flex-wrap:wrap}.filter-btn{padding:8px 16px;background:var(--bg-card);border:1px solid var(--border-color-dark);border-radius:20px;cursor:pointer;font-size:14px;color:var(--text-primary)}.filter-btn.active,.filter-btn:hover{background:#3b82f6;color:#fff;border-color:#3b82f6}
.products-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px}
.product-card{background:var(--bg-card);border-radius:12px;box-shadow:0 10px 15px var(--shadow-color-dark);transition:.2s ease-in;cursor:pointer;border:2px solid transparent;display:flex;flex-direction:column}
.product-card:hover{transform:translateY(-4px);box-shadow:rgba(0,0,0,.35) 0 5px 15px}.product-card.selected{border-color:#E9590F;box-shadow:0 0 12px rgba(233,89,15,.4)}.img-prod-box{width:100%;height:180px;display:flex;align-items:center;justify-content:center;overflow:hidden;padding:10px}.product-image{max-width:100%;max-height:100%;object-fit:contain}
.product-info{padding:20px;display:flex;flex-direction:column;flex-grow:1}
.product-title{font-size:18px;font-weight:600;margin-bottom:8px;color:var(--text-title)}
.add-product-form{background:var(--bg-card);border-radius:12px;padding:32px;box-shadow:0 4px 6px var(--shadow-color-light);margin-top:20px;display:none;margin-bottom:40px; border: 1px solid var(--border-color-light);}.add-product-form form{display:flex;flex-direction:column;gap:24px}fieldset{border:none;margin:0;padding:0}legend{display:none}.form-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:20px}.form-section .form-row:last-child{margin-bottom:0}
.form-group label{display:block;margin-bottom:8px;font-weight:500; color: var(--text-form-label)}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:10px 12px;border:1px solid var(--border-color-dark);border-radius:8px;font-size:14px; background-color: var(--bg-input); color: var(--text-primary)}.form-group textarea{min-height:100px;resize:vertical}.form-actions{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.calendar-wrapper{width:100%;max-width:1000px}#appointmentsTable{width:100%;border-collapse:collapse;margin-top:1.5rem;font-size:.9rem}.status-badge{padding:4px 10px;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:capitalize}.status-pending{background-color:#fef3c7;color:#92400e}.status-approved{background-color:#d1fae5;color:#065f46}.status-cancelled{background-color:#fee2e2;color:#991b1b}.status-completed{background-color:#e0e7ff;color:#3730a3}.status-no-show{background-color:#e5e7eb;color:#4b5563}.appointments-grid{display:grid;grid-template-columns:2fr 1fr;gap:20px}.appointments-sidebar{display:flex;flex-direction:column;gap:20px}.chart-container{position:relative;height:220px;width:100%}
.conflict-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:12px}
.conflict-item{display:flex;justify-content:space-between;align-items:center;background-color:var(--bg-conflict-item);border-left:5px solid var(--border-color-conflict);padding:12px 16px;border-radius:8px}
.conflict-info strong{font-weight:600; color: var(--text-primary)}.conflict-info small{font-size:.85rem;color:var(--text-secondary)}.conflict-item .action-btn.reschedule{background-color:#f59e0b;color:#fff;border-radius:50%;width:36px;height:36px;flex-shrink:0}.conflict-item .action-btn.reschedule:hover{background-color:#d97706}
.conflict-list .no-data-message{text-align:center;color:var(--text-secondary);padding:20px 0;font-style:italic}
#conflictsCard .sidebar-title i{color:#f59e0b}button.action-btn.cancel{background:#fb3030;color:#fff}button.action-btn.cancel i,button.action-btn.approve i, .action-btn.confirm-arrival i, .action-btn.no-show i{color:#fff}button.action-btn.approve{background:#059669;color:#fff}
.form-control{width:100%;padding:10px;border-radius:6px;border:1px solid var(--border-color-medium); background-color: var(--bg-input); color: var(--text-primary)}
.product-description{font-size:.9rem;color:var(--text-secondary);margin-bottom:12px;line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex-grow:1}
.product-details{font-size:.85rem;color:var(--text-secondary);margin-bottom:12px}.product-details p{margin:2px 0}
.product-tags{display:flex;gap:6px;margin-bottom:12px}.pet-tag{padding:4px 10px;border-radius:16px;font-size:.75rem;font-weight:600;color:#fff}.pet-tag-dog{background-color:#3b82f6}.pet-tag-cat{background-color:#f97316}.pet-tag-dog-and-cat{background-color:#8b5cf6}.pet-tag-general{background-color:#6b7280}
.product-footer{border-top:1px solid var(--border-color-light);padding:10px 20px;margin-top:auto;display:flex;justify-content:space-between;align-items:center}
.product-date,.product-stock{font-size:.8rem;color:var(--text-secondary)}
.product-stock{font-weight:600}
.product-stock.stock-in{color:#10b981}
.product-stock.stock-low{color:#f59e0b}
.product-stock.stock-out{color:#ef4444}
.product-meta{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:12px}
.price{font-weight:600;font-size:1rem;text-align:right}.price span{display:block}.price .price-original{text-decoration:line-through;color:var(--text-secondary);font-size:.8rem;line-height:1}.price .price-discounted{font-weight:700;color:#10b981;font-size:1.1rem;line-height:1.2}.logs-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.logs-header .section-title{margin:0}.action-completed{display:inline-flex;align-items:center;gap:6px;color:#065f46;font-weight:600;font-size:14px}
.action-btn.confirm-arrival { background-color: #10b981; color: #fff; padding: 8px 12px; }
.action-btn.confirm-arrival:hover { background-color: #059669; }
.action-btn.no-show { background-color: #64748b; color: #fff; padding: 8px 12px;}
.action-btn.no-show:hover { background-color: #4b5563; }
#eventModal .modal-content{max-width:480px;padding:30px;border-radius:12px}
#eventModal h2{text-align:center;font-size:22px;font-weight:600;color:var(--text-title);margin-bottom:25px}
#eventModal .form-group{margin-bottom:18px}
#eventModal .form-group label{display:block;margin-bottom:8px;font-weight:500;color:var(--text-form-label);font-size:14px}
#eventModal .form-group input,#eventModal .form-group select,#eventModal .form-group textarea{width:100%;padding:12px 15px;border:1px solid var(--border-color-medium);border-radius:8px;font-size:14px;transition:border-color .2s,box-shadow .2s; background-color: var(--bg-input); color: var(--text-primary)}
#eventModal .form-group input:focus,#eventModal .form-group select:focus,#eventModal .form-group textarea:focus{outline:0;border-color:#e9590f;box-shadow:0 0 0 3px rgba(233,89,15,.1)}
#eventModal .form-group input[readonly]{background-color:var(--bg-input-readonly);cursor:not-allowed;opacity:.7}
#eventModal .modal-buttons{margin-top:30px;justify-content:center}#eventModal .btn-primary{background-color:#3b82f6}#eventModal .btn-primary:hover{background-color:#2563eb}
#eventDetails .modal-content{max-width:450px;text-align:left;padding:0;border-radius:12px; overflow: hidden;}
#eventDetails .eventDetails-body{padding: 25px 30px;display:flex;flex-direction:column;gap:18px;margin-bottom:0}
#eventDetails .eventDetails-form{display:flex;align-items:flex-start;font-size:15px; line-height: 1.6;}
#eventDetails .eventDetails-form i{color:#e9590f;width:20px;margin-right:15px; margin-top: 4px; text-align: center; flex-shrink: 0;}
#eventDetails .eventDetails-form strong{color:var(--text-primary);font-weight: 600; margin-right:8px}
#eventDetails .eventModal-footer{background-color:var(--bg-table-header);border-top:1px solid var(--border-color-light);padding:15px 30px;margin-top:10px;text-align:center;font-size:14px;color:var(--text-secondary)}
#eventDetails .modal-btn{background:var(--bg-button-secondary);color:var(--text-primary);border:1px solid var(--border-color-dark);padding:8px 24px}
#eventDetails .modal-btn:hover{background:var(--bg-button-secondary-hover)}
.price-pending-spinner{border:3px solid #f3f3f3;border-top:3px solid #e9590f;border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite;display:inline-block;vertical-align:middle;margin-left:5px}.product-card .update-stock-btn{background-color:var(--bg-button-cancel);color:var(--text-secondary);border:1px solid var(--border-color-dark);font-size:.8rem;padding:8px 12px;border-radius:6px;margin-top:10px;cursor:pointer;transition:background-color .2s,color .2s,border-color .2s}.product-card .update-stock-btn:hover{background-color:var(--bg-button-cancel-hover);border-color:#94a3b8}

/* New Modal Form Styles */
.modal-form-container { max-width: 480px; padding: 30px; }
.modal-form-container .modal-title { text-align: center; font-size: 22px; font-weight: 600; color: var(--text-title); margin-bottom: 25px; }
.modal-form-container .booking-for-info { margin-bottom: 20px; font-size: 1.05em; text-align: center; background-color: var(--bg-table-header); padding: 12px; border-radius: 8px; border: 1px solid var(--border-color-light);}
.modal-form-container .form-group { margin-bottom: 18px; }
.modal-form-container .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--text-form-label); font-size: 14px; }
.modal-form-container .form-control:focus { outline: 0; border-color: #e9590f; box-shadow: 0 0 0 3px rgba(233,89,15,.1); }
.modal-form-container .modal-buttons { margin-top: 30px; }
.modal-form-container .btn-primary { background-color: #3b82f6; color: #fff; }
.modal-form-container .btn-primary:hover { background-color: #2563eb; }
#walkInModal .modal-form-container {max-width: 850px;}
.modal-body-columns {display:grid;grid-template-columns:1fr 1fr;gap:25px;}
.walk-in-column {display:flex;flex-direction:column;gap:20px;}
.form-section {background-color:var(--bg-card);padding:20px;border-radius:12px;border:1px solid var(--border-color-light);}
.form-section-title {font-size:1.1em;font-weight:600;color:var(--text-primary);margin-bottom:16px;padding-bottom:10px;border-bottom:1px solid var(--border-color-light);}
.service-tags-group {display:flex;flex-wrap:wrap;gap:10px;}
.service-tags-group label {flex-grow:1;}
.service-tags-group input[type="checkbox"] {display:none;}
.service-tags-group span {display:block;padding:10px 15px;border:2px solid var(--border-color-service-tag);border-radius:8px;text-align:center;font-weight:500;cursor:pointer;transition:all 0.2s ease-in-out;}
.service-tags-group input[type="checkbox"]:checked + span {background-color:var(--bg-service-tag-checked);border-color:var(--border-color-service-tag-checked);color:#E9590F;font-weight:600;}
.service-tags-group span:hover {border-color:#D34E0C;}
.follow-up-section {background-color:var(--bg-table-header);border-radius:12px;padding:10px;}
.follow-up-toggle {display:flex;justify-content:space-between;align-items:center;}
.follow-up-toggle .form-section-title {border-bottom:none;margin-bottom:0;}
.switch { position: relative; display: inline-block; width: 50px; height: 28px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; }
.slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; }
input:checked + .slider { background-color: #E9590F; }
input:focus + .slider { box-shadow: 0 0 1px #E9590F; }
input:checked + .slider:before { transform: translateX(22px); }
.slider.round { border-radius: 34px; }
.slider.round:before { border-radius: 50%; }
#walkInModal fieldset, #followUpModal fieldset {border:none;padding:0;margin-bottom:0;}
#walkInModal legend, #followUpModal legend {display:none;}
.checkbox-group {display:grid;grid-template-columns:repeat(2, 1fr);gap:10px;}
.checkbox-group label { display:flex;align-items:center;gap:8px;font-size:14px;}
.checkbox-group input { width:16px;height:16px;accent-color:#e9590f; }

/* Analytics Page Styles */
.analytics-container {display:flex;flex-direction:column;gap:20px;}
.todays-stats {display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:20px;}
.analytics-stat-card {display:flex;align-items:center;background-color:var(--bg-table-header);padding:20px;border-radius:10px;border:1px solid var(--border-color-light);}
#analyticsRecordsTable .action-btn.delete {background-color:#fee2e2;color:#ef4444;}
#analyticsRecordsTable .action-btn.delete:hover {background-color:#fecaca;}
.charts-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(350px, 1fr));gap:20px;margin-top:20px;}
.chart-card {padding:20px;height:350px;}
.chart-title {font-size:16px;font-weight:600;margin-bottom:15px;color:var(--text-form-label);text-align:center;}

/* --- CALENDAR REDESIGN --- */
#calendar-container {display:grid;grid-template-columns:2.5fr 1fr;gap:24px;align-items:flex-start;}
#calendar {--fc-today-bg-color: var(--fc-today-bg-color);--fc-button-bg-color: #e9590f;--fc-button-border-color: #e9590f;--fc-button-hover-bg-color: #d34e0c;--fc-button-hover-border-color: #d34e0c;--fc-button-active-bg-color: #d34e0c;--fc-button-active-border-color: #d34e0c;}
.fc .fc-highlight {background:rgba(147, 197, 253, 0.3) !important;}
.fc-daygrid-day-frame:hover {background-color:transparent !important;}
.fc-toolbar-title { font-size:1.75rem !important; color:#e9590f !important; }
.fc .fc-daygrid-day-number { color: var(--fc-day-number-color); }
.fc .fc-col-header-cell-cushion { font-weight:600; color: var(--fc-col-header-cell-cushion-color); padding: 12px 4px; }

/* Modern Calendar Grid - horizontal lines only */
.fc-theme-standard td, .fc-theme-standard th {
    border: none;
}
.fc-theme-standard th {
    border-bottom: 1px solid var(--border-color-light);
}
.fc-day-today {
    background-color: var(--fc-today-bg-color) !important;
}
.fc-daygrid-body tr {
    border-top: 1px solid var(--border-color-light);
}
.fc-scrollgrid { /* Remove the ugly outer border FullCalendar adds */
    border: none !important;
}

.fc-daygrid-event {border-radius:6px !important;padding:4px 6px !important;font-size:.78rem !important;font-weight:500;overflow:hidden;cursor:pointer;border:none !important;margin:4px 2px !important;background:linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0)), var(--fc-event-bg-color) !important;box-shadow:0 2px 4px rgba(0,0,0,0.1);transition:transform 0.2s ease, box-shadow 0.2s ease;color:#fff !important; }
.fc-daygrid-event:hover {transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.15);}
.fc-event-main-content {display:flex;align-items:center;gap:5px;height:100%;overflow:hidden;}
.event-icon {font-size:11px;opacity:0.9;min-width:12px;text-align:center;color:#fff !important;}
.fc-event-title-container {flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}
.fc-daygrid-event .fc-event-time {font-weight:700;margin-right:4px;}
.fc-daygrid-event .fc-event-title {white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500;color:#fff !important;}
.fc-daygrid-event.fc-event-holiday {background:var(--fc-holiday-bg) !important;border:1px solid var(--fc-holiday-border) !important;box-shadow:none !important;color:var(--fc-holiday-text) !important;font-weight:600 !important;}
.fc-event-holiday .fc-event-title {font-style:italic;font-weight:600 !important;color:var(--fc-holiday-text) !important;}
.fc-event-holiday:hover {transform:none;box-shadow:none;}

.calendar-sidebar { padding: 24px; }
.calendar-sidebar .sidebar-title {font-size:16px;font-weight:600;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid var(--border-color-light);display:flex;align-items:center;gap:8px;color:var(--text-form-label);}
.calendar-sidebar .sidebar-title i { color:#e9590f; }
.sidebar-header {display:flex;justify-content:space-between;align-items:center;}
.btn-sm { padding: 6px 12px; font-size: 0.8rem; }
.holidays-list { list-style:none; padding:0; margin-top:1rem; max-height:450px; overflow-y:auto; }
.holiday-item {display:flex;align-items:center;justify-content:space-between;gap:16px;padding:12px 4px;font-size:14px;border-bottom:1px solid var(--border-color-light);}
.holiday-item:last-child { border-bottom:none; }
.holiday-info { display: flex; flex-direction: column; flex-grow: 1;}
.holiday-name {font-weight:600;color:var(--text-primary);}
.holiday-date {font-size:13px; color: var(--text-secondary);}
.holiday-actions .action-btn { background: transparent; padding: 4px; }
.holiday-actions .action-btn i { margin: 0; }
.holiday-actions .action-btn.edit { color: #3b82f6; }
.holiday-actions .action-btn.delete { color: #ef4444; }

@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideUp{from{transform:translateY(40px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@media (max-width:992px){#calendar-container{grid-template-columns:1fr}.calendar-sidebar{margin-top:20px}}@media (max-width:768px){.main-content{padding:20px}.staff-container .form-row{flex-direction:column; grid-template-columns: 1fr;} #walkInModal .modal-body-columns { grid-template-columns: 1fr; } .todays-stats { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }}

/* Redesigned Event Details Modal Styles */
#eventDetails .modal-content {padding:0;overflow:hidden;}
.event-details-header {padding:20px 30px;color:white;}
.event-details-title {font-size:22px;font-weight:700;margin:0;text-align:center;text-shadow:1px 1px 3px rgba(0,0,0,0.2);display:flex;align-items:center;justify-content:center;}
.event-details-title i {margin-right:12px;opacity:0.9;}
#eventDetails .eventDetails-form span { color: var(--text-primary); }
#eventDetails .modal-buttons {padding:20px 30px 25px 30px;background-color:var(--bg-table-header);border-top:1px solid var(--border-color-light);margin-top:0;}

/* Dark Mode Toggle Switch */
.theme-switch-wrapper { display: flex; align-items: center; }
.theme-switch { position: relative; display: inline-block; width: 60px; height: 34px; }
.theme-switch input { opacity: 0; width: 0; height: 0; }
.theme-switch .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
.theme-switch .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
.theme-switch input:checked + .slider { background-color: #3b82f6; }
.theme-switch input:checked + .slider:before { transform: translateX(26px); }
.theme-switch .icon-wrapper { position: absolute; top: 50%; transform: translateY(-50%); font-size: 14px; color: white; transition: opacity 0.4s; }
.theme-switch .sun { left: 9px; opacity: 0; }
.theme-switch .moon { right: 9px; opacity: 1; }
.theme-switch input:checked ~ .slider .sun { opacity: 1; }
.theme-switch input:checked ~ .slider .moon { opacity: 0; }
body.dark-mode .theme-switch .slider { background-color: #4a4a4a; }